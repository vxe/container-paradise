# -*- mode: snippet -*-
# name: host-diagnostics
# key: hostdiagnostics
# --
set -o xtrace;
# uptime/reboot status
who -b
last -10
uptime
# nic speed
sudo ethtool $(sudo facter -p default_interface) | grep -i speed
	Speed: 10000Mb/s
# number of disks
lsscsi | wc -l 
10
# nic driver
ethtool -i $(sudo facter -p default_interface) | grep driver  | awk -F: '{print \$2}'; modinfo ixgbe | grep version | awk -F: '{print \$2}' | head -1
+ modinfo ixgbe
        4.2.1-k

# dmesg error counts
dmesg -T | grep -i error | wc -l
11